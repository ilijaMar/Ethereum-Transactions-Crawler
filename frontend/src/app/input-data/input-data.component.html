<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <meta name="description" content="">
        <meta name="author" content="">

        <title>Medic Care Bootstrap 5 CSS Template</title>

        <!-- CSS FILES -->        
        <link rel="preconnect" href="https://fonts.googleapis.com">
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        
        

    </head>
    
    <body>
      <div class="container mt-5 text-center">
        <div class="d-inline-block">
          <h1>Ethereum Transactions Crawler</h1>
          <form>
            <div class="form-group">
              <label for="walletAddress">Wallet Address:</label>
              <input type="text" class="form-control" id="walletAddress" placeholder="Enter wallet address" name="walletId" [(ngModel)]="walletId" required>
            </div>
            <div class="form-group">
              <label for="startBlock">Start Block:</label>
              <input type="number" class="form-control" id="startBlock" placeholder="Enter start block"  name="startBlock" [(ngModel)]="startingBlock" required>
            </div>
            <div class="form-group">
              <label for="endDate">End Date (Optional):</label>
              <input type="date" class="form-control" id="endDate" name="givenDate" [(ngModel)]="givenDate">
            </div>
            <div style="background-color: #f0f0f0; padding: 10px; border-radius: 5px; margin-bottom: 15px;">
              Your current balance is: {{walletBalance}} <span *ngIf="walletBalance">ETH</span>
            </div>
            <button type="submit" class="btn btn-primary" (click)="loadTransactions()" style="margin-bottom: 10px;">
              {{ flag === 1 ? 'Load more' : 'Load transactions' }}
            </button>
            <button type="submit" class="btn btn-primary" (click)="loadBalance()" style="margin-bottom: 10px; margin-left: 10px;" >Balance</button>
          </form>
        </div>
      </div>
      <div *ngIf="transactions.length>0">
        <table class="table">
          <thead class="thead-dark">
            <tr>
              <th scope="col">#</th>
              <th scope="col">Transaction Hash</th>
              <th scope="col">Block num</th>
              <th scope="col">Time stamp</th>
              <th scope="col">Sender Address</th>
              <th scope="col">Receiver Address</th>
              <th scope="col">Amount</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let transaction of transactions; let i = index">
              <th scope="row">{{ i + 1 }}</th>
              <td>{{ transaction.hash }}</td>
              <td>{{ transaction.blockNumber }}</td>
              <td>{{ transaction.timeStamp }}</td>
              <td>{{ transaction.from }}</td>
              <td>{{ transaction.to }}</td>
              <td>{{ transaction.value }} ETH</td>
            </tr>
          </tbody>
        </table>
        <button type="submit" class="btn btn-primary" (click)="loadTransactions()" style="margin-bottom: 10px;" *ngIf="transactions.length>0">Load more</button>
        <a id="back-to-top" href="#" class="btn btn-light btn-lg back-to-top" role="button" style="background-color: #007bff; color: white;"><i class="bi bi-arrow-up"></i></a>
       
        
       
        
        
      
       
      </div>
      <script src="assets/js/jquery.min.assets/js"></script>
      <script src="assets/js/bootstrap.bundle.min.assets/js"></script>
      <script src="assets/js/owl.carousel.min.assets/js"></script>
      <script src="assets/js/scrollspy.min.assets/js"></script>
      <script src="assets/js/custom.assets/js"></script>
    </body>
</html>